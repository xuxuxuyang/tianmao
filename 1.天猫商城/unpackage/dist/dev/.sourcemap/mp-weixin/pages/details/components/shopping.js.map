{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/github代码仓库/1.商城小程序(待续)/pages/details/components/shopping.vue?5a7e","webpack:///C:/Users/Administrator/Desktop/github代码仓库/1.商城小程序(待续)/pages/details/components/shopping.vue?b0ee","webpack:///C:/Users/Administrator/Desktop/github代码仓库/1.商城小程序(待续)/pages/details/components/shopping.vue?f83a","webpack:///C:/Users/Administrator/Desktop/github代码仓库/1.商城小程序(待续)/pages/details/components/shopping.vue?9983","uni-app:///pages/details/components/shopping.vue","webpack:///C:/Users/Administrator/Desktop/github代码仓库/1.商城小程序(待续)/pages/details/components/shopping.vue?4bd6","webpack:///C:/Users/Administrator/Desktop/github代码仓库/1.商城小程序(待续)/pages/details/components/shopping.vue?8c47"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiI;AACjI;AAC4D;AACL;AACqC;;;AAG5F;AACgL;AAChL,gBAAgB,yLAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,+FAAM;AACR,EAAE,wGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAypB,CAAgB,8qBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC+B7qB;AACA,8DADA;AAEA,MAFA,kBAEA;AACA;AACA,iBADA;AAEA,gBAFA;;AAIA,GAPA;AAQA;AACA;AACA,WAFA,mBAEA,GAFA,EAEA,EAFA,EAEA;AACA,oBADA,GACA,oBADA;;AAGA,6EAHA,SAGA,QAHA;AAIA;AACA,uBALA,GAKA,YALA,CAKA,OALA;AAMA;AACA;AACA;AACA,iBAHA,MAGA;AACA;AACA,iBAXA;;;;AAeA,KAjBA;AAkBA;AACA,WAnBA,qBAmBA;;;AAGA,kGAHA,SAGA,UAHA;AAIA;AACA;AALA,0CAMA,oDANA,QAMA,MANA;AAOA,oDAPA;;AASA,0CATA;;AAWA,KA9BA;;AAgCA;AACA,cAjCA,sBAiCA,IAjCA,EAiCA;AACA;AACA,KAnCA,EARA;;;AA8CA;AACA,SA/CA,qBA+CA;AACA;AACA;AACA;AACA;AACA;AACA,KALA;AAMA,GAtDA;;AAwDA;AACA;AACA,YAFA,oBAEA,QAFA,EAEA,QAFA,EAEA;AACA,cADA,GACA,YADA,CACA,QADA;AAEA;AACA,KALA;AAMA;AACA,YAPA,oBAOA,QAPA,EAOA,QAPA,EAOA;AACA;AACA;AACA,KAVA;AAWA;AACA;AACA,0BAbA,8BAaA,QAbA,EAaA,QAbA,EAaA;AACA;AACA,KAfA,EAxDA,E;;;;;;;;;;;;AC/BA;AAAA;AAAA;AAAA;AAAy9B,CAAgB,m9BAAG,EAAC,C;;;;;;;;;;;ACA7+B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/details/components/shopping.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./shopping.vue?vue&type=template&id=63afedea&scoped=true&\"\nvar renderjs\nimport script from \"./shopping.vue?vue&type=script&lang=js&\"\nexport * from \"./shopping.vue?vue&type=script&lang=js&\"\nimport style0 from \"./shopping.vue?vue&type=style&index=0&id=63afedea&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"63afedea\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/details/components/shopping.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./shopping.vue?vue&type=template&id=63afedea&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./shopping.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./shopping.vue?vue&type=script&lang=js&\"","<template>\r\n<view>\r\n<view class=\"shopping-view\">\r\n\t<view class=\"shopping-text\">\r\n\t\t<image src=\"/static/details/fenxiang.svg\" mode=\"widthFix\"/>\r\n\t\t<text>分享</text>\r\n\t</view>\r\n\t<view class=\"shopping-text middle\">\r\n\t\t<image src=\"/static/details/gouwuche.svg\" mode=\"widthFix\"/>\r\n\t\t<text>购物车</text>\r\n\t\t<text>{{cartnum}}</text>\r\n\t</view>\r\n\t<!-- 未收藏 -->\r\n\t<view class=\"shopping-text\" @click=\"collEct(1,gooid)\" v-if=\"collects == 0\">\r\n\t\t<image src=\"/static/details/shoucang.svg\" mode=\"widthFix\"/>\r\n\t\t<text>收藏</text>\r\n\t</view>\r\n\t<!-- 已收藏 -->\r\n\t<view class=\"shopping-text\" @click=\"collEct(0,gooid)\"  v-if=\"collects == 1\">\r\n\t\t<image src=\"/static/details/yishoucang.svg\" mode=\"widthFix\"/>\r\n\t\t<text>已收藏</text>\r\n\t</view>\r\n\t<view class=\"join join-right\" @click=\"couponsFun('002')\">加入购物车</view>\r\n\t<view class=\"join join-left\" @click=\"couponsFun('003')\">立即购买</view>\r\n</view>\r\n<!-- 登录弹窗 -->\r\n<showmodal ref=\"show\"></showmodal>\r\n</view>\n</template>\n\n<script>\r\nexport default{\r\n\tprops:{gooid:String,colldata:Object,cartdata:Object},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcollects:0,\r\n\t\t\tcartnum:0\r\n\t\t}\r\n\t},\r\n\tmethods:{\r\n\t\t// 收藏和取消收藏errcode: \"401\":就是没有权限，也就是没有登录\r\n\t\tasync collEct(num,id){\r\n\t\t\tlet data = {num,id}\r\n\t\t\ttry{\r\n\t\t\t\tlet enshrine = await new this.Request(this.Urls.m().enshrine,data).modepost()\r\n\t\t\t\tconsole.log(enshrine)\r\n\t\t\t\tlet {errcode} = enshrine.msg\r\n\t\t\t\tif(errcode == '401'){\r\n\t\t\t\t\t// 要去登录\r\n\t\t\t\t\tthis.$refs.show.showing('coll')\r\n\t\t\t\t}else if(errcode == '200'){\r\n\t\t\t\t\tthis.collects = enshrine.msg.collects\r\n\t\t\t\t}\r\n\t\t\t}catch(e){\r\n\t\t\t\t//TODO handle the exception\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 登陆成功后更新收藏状态\r\n\t\tasync reFresh(){\r\n\t\t\ttry{\r\n\t\t\t\t// 获取商品是否收藏\r\n\t\t\t\tlet collection = await new this.Request(this.Urls.m().collection + '?id=' + this.gooid).modeget()\r\n\t\t\t\tthis.collects = collection.msg.collects\r\n\t\t\t\t// 更新购物车件数\r\n\t\t\t\tlet mycart = await new this.Request(this.Urls.m().mycart).modeget()\r\n\t\t\t\tthis.cartnum = mycart.data.length\r\n\t\t\t}catch(err){\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 调用父组件里的sku组件\r\n\t\tcouponsFun(mean){\r\n\t\t\tthis.$parent.shoPp(mean)\r\n\t\t}\r\n\t},\r\n\t\r\n\t// 接收登录组件传过来的值\r\n\tcreated(){\r\n\t\tthis.$bus.$on('collict',res=>{\r\n\t\t\tif(res.colldata == 'SUCCESS'){\r\n\t\t\t\t// 登陆成功后更新收藏状态\r\n\t\t\t\tthis.reFresh()\r\n\t\t\t}\r\n\t\t})\r\n\t},\r\n\t\r\n\twatch:{\r\n\t\t// 获取该商品是否收藏\r\n\t\tcolldata(newValue,oldValue){\r\n\t\t\tlet {collects} = newValue.msg\r\n\t\t\tthis.collects = collects\r\n\t\t},\r\n\t\t// 获取购物车件数\r\n\t\tcartdata(newValue,oldValue){\r\n\t\t\tif(newValue.msg.errcode){this.cartnum = 0}\r\n\t\t\telse if(newValue.msg == 'SUCCESS'){this.cartnum = newValue.data.length}\r\n\t\t},\r\n\t\t// 加入购物车成功后存储到vuex后，从vuex仓库中心拉取值；监听vuex数据中的值变化，\r\n\t\t// 如果vuex数据中心的值变化才会被触发执行\r\n\t\t\"$store.state.cartnum\"(newValue,oldValue){\r\n\t\t\tthis.cartnum = newValue.nums\r\n\t\t}\r\n\t}\r\n}\n</script>\n\n<style scoped>\n.shopping-view image{width: 35rpx; height: 35rpx;}\n.shopping-view{font-size: 30upx;\nbackground: #FFFFFF;\nborder-top: 1rpx solid #cccccc;\nheight: 100upx;\ndisplay: flex;\nalign-items: center;\nposition: fixed;\nbottom: 0;\nleft: 0;\nwidth: 100%;\n}\n.join{flex: 2; text-align: center; height: 80upx; line-height: 80upx;\ncolor: white;\n}\n.shopping-text{\nheight: 100upx;\nflex: 1;\ndisplay: flex;\nflex-direction:column;\njustify-content: center;\nalign-items: center;\n}\n.shopping-text text{font-size: 23upx; padding-top: 5upx;\ncolor: #666666;}\n.join-right{\n\tbackground: linear-gradient(to right, #ffc800 10%, #ff9602 80%);\n\tborder-top-left-radius: 50upx;\n\tborder-bottom-left-radius: 50upx;\n}\n.join-left{background: linear-gradient(to right, #ff7500 10%, #ff4b00 80%);\nborder-top-right-radius: 50upx;\nborder-bottom-right-radius: 50upx;\nmargin-right: 10upx;}\n.middle{border-left: 1rpx solid #f4f4f4;\nborder-right: 1rpx solid #f4f4f4;\nposition: relative;\n}\n.middle text:nth-child(3){\nfont-size: 16upx; background: #fe0036;\ncolor: #FFFFFF;\nborder-radius: 50%;\nwidth: 30upx;\nheight: 30upx;\npadding: 0 !important;\ntext-align: center;\nline-height: 30upx;\nposition: absolute;\ntop: 10upx;\nright: 10upx;\n}\n</style>\n","import mod from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./shopping.vue?vue&type=style&index=0&id=63afedea&scoped=true&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./shopping.vue?vue&type=style&index=0&id=63afedea&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1638776141070\n      var cssReload = require(\"D:/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}